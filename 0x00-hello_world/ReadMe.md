preprocesssing and everything in between
